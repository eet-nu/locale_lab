import{showPanel as e,getPanel as t,EditorView as r,Decoration as s,ViewPlugin as n,runScopeHandlers as i}from"@codemirror/view";import{codePointAt as a,fromCodePoint as o,codePointSize as l,EditorSelection as c,StateEffect as h,StateField as u,Facet as f,combineConfig as d,CharCategory as m,RangeSetBuilder as p,Prec as g}from"@codemirror/state";import v from"crelt";const x="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class SearchCursor{constructor(e,t,r=0,s=e.length,n){this.value={from:0,to:0};this.done=false;this.matches=[];this.buffer="";this.bufferPos=0;this.iter=e.iterRange(r,s);this.bufferStart=r;this.normalize=n?e=>n(x(e)):x;this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){this.bufferStart+=this.buffer.length;this.iter.next();if(this.iter.done)return-1;this.bufferPos=0;this.buffer=this.iter.value}return a(this.buffer,this.bufferPos)}next(){while(this.matches.length)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0){this.done=true;return this}let t=o(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=l(e);let s=this.normalize(t);for(let e=0,n=r;;e++){let i=s.charCodeAt(e);let a=this.match(i,n);if(a){this.value=a;return this}if(e==s.length-1)break;n==r&&e<t.length&&t.charCodeAt(e)==i&&n++}}}match(e,t){let r=null;for(let s=0;s<this.matches.length;s+=2){let n=this.matches[s],i=false;if(this.query.charCodeAt(n)==e)if(n==this.query.length-1)r={from:this.matches[s+1],to:t+1};else{this.matches[s]++;i=true}if(!i){this.matches.splice(s,2);s-=2}}this.query.charCodeAt(0)==e&&(1==this.query.length?r={from:t,to:t+1}:this.matches.push(1,t));return r}}"undefined"!=typeof Symbol&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const y={from:-1,to:-1,match:/.*/.exec("")};const S="gm"+(null==/x/.unicode?"":"u");class RegExpCursor{constructor(e,t,r,s=0,n=e.length){this.to=n;this.curLine="";this.done=false;this.value=y;if(/\\[sWDnr]|\n|\r|\[\^/.test(t))return new MultilineRegExpCursor(e,t,r,s,n);this.re=new RegExp(t,S+((null===r||void 0===r?void 0:r.ignoreCase)?"i":""));this.iter=e.iter();let i=e.lineAt(s);this.curLineStart=i.from;this.matchPos=s;this.getLine(this.curLineStart)}getLine(e){this.iter.next(e);if(this.iter.lineBreak)this.curLine="";else{this.curLine=this.iter.value;this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart));this.iter.next()}}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1;this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,s=r+t[0].length;this.matchPos=s+(r==s?1:0);r==this.curLine.length&&this.nextLine();if(r<s||r>this.value.to){this.value={from:r,to:s,match:t};return this}e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to)){this.done=true;return this}this.nextLine();e=0}}}}const b=new WeakMap;class FlattenedDoc{constructor(e,t){this.from=e;this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let s=b.get(e);if(!s||s.from>=r||s.to<=t){let s=new FlattenedDoc(t,e.sliceString(t,r));b.set(e,s);return s}if(s.from==t&&s.to==r)return s;let{text:n,from:i}=s;if(i>t){n=e.sliceString(t,i)+n;i=t}s.to<r&&(n+=e.sliceString(s.to,r));b.set(e,new FlattenedDoc(i,n));return new FlattenedDoc(t,n.slice(t-i,r-i))}}class MultilineRegExpCursor{constructor(e,t,r,s,n){this.text=e;this.to=n;this.done=false;this.value=y;this.matchPos=s;this.re=new RegExp(t,S+((null===r||void 0===r?void 0:r.ignoreCase)?"i":""));this.flat=FlattenedDoc.get(e,s,this.chunkEnd(s+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from;let t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e){this.re.lastIndex=e+1;t=this.re.exec(this.flat.text)}t&&this.flat.to<this.to&&t.index+t[0].length>this.flat.text.length-10&&(t=null);if(t){let e=this.flat.from+t.index,r=e+t[0].length;this.value={from:e,to:r,match:t};this.matchPos=r+(e==r?1:0);return this}if(this.flat.to==this.to){this.done=true;return this}this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}"undefined"!=typeof Symbol&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(e){try{new RegExp(e,S);return true}catch(e){return false}}function createLineDialog(e){let t=v("input",{class:"cm-textfield",name:"line"});let r=v("form",{class:"cm-gotoLine",onkeydown:t=>{if(27==t.keyCode){t.preventDefault();e.dispatch({effects:C.of(false)});e.focus()}else if(13==t.keyCode){t.preventDefault();go()}},onsubmit:e=>{e.preventDefault();go()}},v("label",e.state.phrase("Go to line"),": ",t)," ",v("button",{class:"cm-button",type:"submit"},e.state.phrase("go")));function go(){let r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!r)return;let{state:s}=e,n=s.doc.lineAt(s.selection.main.head);let[,i,a,o,l]=r;let h=o?+o.slice(1):0;let u=a?+a:n.number;if(a&&l){let e=u/100;i&&(e=e*("-"==i?-1:1)+n.number/s.doc.lines);u=Math.round(s.doc.lines*e)}else a&&i&&(u=u*("-"==i?-1:1)+n.number);let f=s.doc.line(Math.max(1,Math.min(s.doc.lines,u)));e.dispatch({effects:C.of(false),selection:c.cursor(f.from+Math.max(0,Math.min(h,f.length))),scrollIntoView:true});e.focus()}return{dom:r}}const C=h.define();const w=u.define({create(){return true},update(e,t){for(let r of t.effects)r.is(C)&&(e=r.value);return e},provide:t=>e.from(t,(e=>e?createLineDialog:null))});const gotoLine=e=>{let r=t(e,createLineDialog);if(!r){let s=[C.of(true)];null==e.state.field(w,false)&&s.push(h.appendConfig.of([w,M]));e.dispatch({effects:s});r=t(e,createLineDialog)}r&&r.dom.querySelector("input").focus();return true};const M=r.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}});const k={highlightWordAroundCursor:false,minSelectionLength:1,maxMatches:100,wholeWords:false};const L=f.define({combine(e){return d(e,k,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(e){let t=[F,R];e&&t.push(L.of(e));return t}const D=s.mark({class:"cm-selectionMatch"});const q=s.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(e,t,r,s){return(0==r||e(t.sliceDoc(r-1,r))!=m.Word)&&(s==t.doc.length||e(t.sliceDoc(s,s+1))!=m.Word)}function insideWord(e,t,r,s){return e(t.sliceDoc(r,r+1))==m.Word&&e(t.sliceDoc(s-1,s))==m.Word}const R=n.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(L);let{state:r}=e,n=r.selection;if(n.ranges.length>1)return s.none;let i,a=n.main,o=null;if(a.empty){if(!t.highlightWordAroundCursor)return s.none;let e=r.wordAt(a.head);if(!e)return s.none;o=r.charCategorizer(a.head);i=r.sliceDoc(e.from,e.to)}else{let e=a.to-a.from;if(e<t.minSelectionLength||e>200)return s.none;if(t.wholeWords){i=r.sliceDoc(a.from,a.to);o=r.charCategorizer(a.head);if(!(insideWordBoundaries(o,r,a.from,a.to)&&insideWord(o,r,a.from,a.to)))return s.none}else{i=r.sliceDoc(a.from,a.to).trim();if(!i)return s.none}}let l=[];for(let n of e.visibleRanges){let e=new SearchCursor(r.doc,i,n.from,n.to);while(!e.next().done){let{from:n,to:i}=e.value;if(!o||insideWordBoundaries(o,r,n,i)){a.empty&&n<=a.from&&i>=a.to?l.push(q.range(n,i)):(n>=a.to||i<=a.from)&&l.push(D.range(n,i));if(l.length>t.maxMatches)return s.none}}}return s.set(l)}},{decorations:e=>e.decorations});const F=r.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});const selectWord=({state:e,dispatch:t})=>{let{selection:r}=e;let s=c.create(r.ranges.map((t=>e.wordAt(t.head)||c.cursor(t.head))),r.mainIndex);if(s.eq(r))return false;t(e.update({selection:s}));return true};function findNextOccurrence(e,t){let{main:r,ranges:s}=e.selection;let n=e.wordAt(r.head),i=n&&n.from==r.from&&n.to==r.to;for(let r=false,n=new SearchCursor(e.doc,t,s[s.length-1].to);;){n.next();if(!n.done){if(r&&s.some((e=>e.from==n.value.from)))continue;if(i){let t=e.wordAt(n.value.from);if(!t||t.from!=n.value.from||t.to!=n.value.to)continue}return n.value}if(r)return null;n=new SearchCursor(e.doc,t,0,Math.max(0,s[s.length-1].from-1));r=true}}const selectNextOccurrence=({state:e,dispatch:t})=>{let{ranges:s}=e.selection;if(s.some((e=>e.from===e.to)))return selectWord({state:e,dispatch:t});let n=e.sliceDoc(s[0].from,s[0].to);if(e.selection.ranges.some((t=>e.sliceDoc(t.from,t.to)!=n)))return false;let i=findNextOccurrence(e,n);if(!i)return false;t(e.update({selection:e.selection.addRange(c.range(i.from,i.to),false),effects:r.scrollIntoView(i.to)}));return true};const E=f.define({combine(e){var t;return{top:e.reduce(((e,t)=>null!==e&&void 0!==e?e:t.top),void 0)||false,caseSensitive:e.reduce(((e,t)=>null!==e&&void 0!==e?e:t.caseSensitive),void 0)||false,createPanel:(null===(t=e.find((e=>e.createPanel)))||void 0===t?void 0:t.createPanel)||(e=>new SearchPanel(e))}}});function search(e){return e?[E.of(e),H]:H}class SearchQuery{constructor(e){this.search=e.search;this.caseSensitive=!!e.caseSensitive;this.regexp=!!e.regexp;this.replace=e.replace||"";this.valid=!!this.search&&(!this.regexp||validRegExp(this.search));this.unquoted=e.literal?this.search:this.search.replace(/\\([nrt\\])/g,((e,t)=>"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"))}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(e,t=0,r=e.length){return this.regexp?regexpCursor(this,e,t,r):stringCursor(this,e,t,r)}}class QueryType{constructor(e){this.spec=e}}function stringCursor(e,t,r,s){return new SearchCursor(t,e.unquoted,r,s,e.caseSensitive?void 0:e=>e.toLowerCase())}class StringQuery extends QueryType{constructor(e){super(e)}nextMatch(e,t,r){let s=stringCursor(this.spec,e,r,e.length).nextOverlapping();s.done&&(s=stringCursor(this.spec,e,0,t).nextOverlapping());return s.done?null:s.value}prevMatchInRange(e,t,r){for(let s=r;;){let r=Math.max(t,s-1e4-this.spec.unquoted.length);let n=stringCursor(this.spec,e,r,s),i=null;while(!n.nextOverlapping().done)i=n.value;if(i)return i;if(r==t)return null;s-=1e4}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.length)}getReplacement(e){return this.spec.replace}matchAll(e,t){let r=stringCursor(this.spec,e,0,e.length),s=[];while(!r.next().done){if(s.length>=t)return null;s.push(r.value)}return s}highlight(e,t,r,s){let n=stringCursor(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.length));while(!n.next().done)s(n.value.from,n.value.to)}}function regexpCursor(e,t,r,s){return new RegExpCursor(t,e.search,e.caseSensitive?void 0:{ignoreCase:true},r,s)}class RegExpQuery extends QueryType{nextMatch(e,t,r){let s=regexpCursor(this.spec,e,r,e.length).next();s.done&&(s=regexpCursor(this.spec,e,0,t).next());return s.done?null:s.value}prevMatchInRange(e,t,r){for(let s=1;;s++){let n=Math.max(t,r-1e4*s);let i=regexpCursor(this.spec,e,n,r),a=null;while(!i.next().done)a=i.value;if(a&&(n==t||a.from>n+10))return a;if(n==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.length)}getReplacement(e){return this.spec.replace.replace(/\$([$&\d+])/g,((t,r)=>"$"==r?"$":"&"==r?e.match[0]:"0"!=r&&+r<e.match.length?e.match[r]:t))}matchAll(e,t){let r=regexpCursor(this.spec,e,0,e.length),s=[];while(!r.next().done){if(s.length>=t)return null;s.push(r.value)}return s}highlight(e,t,r,s){let n=regexpCursor(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.length));while(!n.next().done)s(n.value.from,n.value.to)}}const P=h.define();const A=h.define();const Q=u.define({create(e){return new SearchState(defaultQuery(e).create(),null)},update(e,t){for(let r of t.effects)r.is(P)?e=new SearchState(r.value.create(),e.panel):r.is(A)&&(e=new SearchState(e.query,r.value?createSearchPanel:null));return e},provide:t=>e.from(t,(e=>e.panel))});function getSearchQuery(e){let t=e.field(Q,false);return t?t.query.spec:defaultQuery(e)}class SearchState{constructor(e,t){this.query=e;this.panel=t}}const W=s.mark({class:"cm-searchMatch"}),I=s.mark({class:"cm-searchMatch cm-searchMatch-selected"});const O=n.fromClass(class{constructor(e){this.view=e;this.decorations=this.highlight(e.state.field(Q))}update(e){let t=e.state.field(Q);(t!=e.startState.field(Q)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return s.none;let{view:r}=this;let n=new p;for(let t=0,s=r.visibleRanges,i=s.length;t<i;t++){let{from:a,to:o}=s[t];while(t<i-1&&o>s[t+1].from-500)o=s[++t].to;e.highlight(r.state.doc,a,o,((e,t)=>{let s=r.state.selection.ranges.some((r=>r.from==e&&r.to==t));n.add(e,t,s?I:W)}))}return n.finish()}},{decorations:e=>e.decorations});function searchCommand(e){return t=>{let r=t.state.field(Q,false);return r&&r.query.spec.valid?e(t,r):openSearchPanel(t)}}const z=searchCommand(((e,{query:t})=>{let{from:r,to:s}=e.state.selection.main;let n=t.nextMatch(e.state.doc,r,s);if(!n||n.from==r&&n.to==s)return false;e.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:true,effects:announceMatch(e,n),userEvent:"select.search"});return true}));const $=searchCommand(((e,{query:t})=>{let{state:r}=e,{from:s,to:n}=r.selection.main;let i=t.prevMatch(r.doc,s,n);if(!i)return false;e.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:true,effects:announceMatch(e,i),userEvent:"select.search"});return true}));const T=searchCommand(((e,{query:t})=>{let r=t.matchAll(e.state.doc,1e3);if(!r||!r.length)return false;e.dispatch({selection:c.create(r.map((e=>c.range(e.from,e.to)))),userEvent:"select.search.matches"});return true}));const selectSelectionMatches=({state:e,dispatch:t})=>{let r=e.selection;if(r.ranges.length>1||r.main.empty)return false;let{from:s,to:n}=r.main;let i=[],a=0;for(let t=new SearchCursor(e.doc,e.sliceDoc(s,n));!t.next().done;){if(i.length>1e3)return false;t.value.from==s&&(a=i.length);i.push(c.range(t.value.from,t.value.to))}t(e.update({selection:c.create(i,a),userEvent:"select.search.matches"}));return true};const V=searchCommand(((e,{query:t})=>{let{state:r}=e,{from:s,to:n}=r.selection.main;if(r.readOnly)return false;let i=t.nextMatch(r.doc,s,s);if(!i)return false;let a,o,l=[];if(i.from==s&&i.to==n){o=r.toText(t.getReplacement(i));l.push({from:i.from,to:i.to,insert:o});i=t.nextMatch(r.doc,i.from,i.to)}if(i){let e=0==l.length||l[0].from>=i.to?0:i.to-i.from-o.length;a={anchor:i.from-e,head:i.to-e}}e.dispatch({changes:l,selection:a,scrollIntoView:!!a,effects:i?announceMatch(e,i):void 0,userEvent:"input.replace"});return true}));const B=searchCommand(((e,{query:t})=>{if(e.state.readOnly)return false;let r=t.matchAll(e.state.doc,1e9).map((e=>{let{from:r,to:s}=e;return{from:r,to:s,insert:t.getReplacement(e)}}));if(!r.length)return false;e.dispatch({changes:r,userEvent:"input.replace.all"});return true}));function createSearchPanel(e){return e.state.facet(E).createPanel(e)}function defaultQuery(e,t){var r;let s=e.selection.main;let n=s.empty||s.to>s.from+100?"":e.sliceDoc(s.from,s.to);let i=null!==(r=null===t||void 0===t?void 0:t.caseSensitive)&&void 0!==r?r:e.facet(E).caseSensitive;return t&&!n?t:new SearchQuery({search:n.replace(/\n/g,"\\n"),caseSensitive:i})}const openSearchPanel=e=>{let r=e.state.field(Q,false);if(r&&r.panel){let s=t(e,createSearchPanel);if(!s)return false;let n=s.dom.querySelector("[name=search]");if(n!=e.root.activeElement){let t=defaultQuery(e.state,r.query.spec);t.valid&&e.dispatch({effects:P.of(t)});n.focus();n.select()}}else e.dispatch({effects:[A.of(true),r?P.of(defaultQuery(e.state,r.query.spec)):h.appendConfig.of(H)]});return true};const closeSearchPanel=e=>{let r=e.state.field(Q,false);if(!r||!r.panel)return false;let s=t(e,createSearchPanel);s&&s.dom.contains(e.root.activeElement)&&e.focus();e.dispatch({effects:A.of(false)});return true};const N=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:z,shift:$,scope:"editor search-panel",preventDefault:true},{key:"Mod-g",run:z,shift:$,scope:"editor search-panel",preventDefault:true},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:true}];class SearchPanel{constructor(e){this.view=e;let t=this.query=e.state.field(Q).query.spec;this.commit=this.commit.bind(this);this.searchField=v("input",{value:t.search,placeholder:phrase(e,"Find"),"aria-label":phrase(e,"Find"),class:"cm-textfield",name:"search",onchange:this.commit,onkeyup:this.commit});this.replaceField=v("input",{value:t.replace,placeholder:phrase(e,"Replace"),"aria-label":phrase(e,"Replace"),class:"cm-textfield",name:"replace",onchange:this.commit,onkeyup:this.commit});this.caseField=v("input",{type:"checkbox",name:"case",checked:t.caseSensitive,onchange:this.commit});this.reField=v("input",{type:"checkbox",name:"re",checked:t.regexp,onchange:this.commit});function button(e,t,r){return v("button",{class:"cm-button",name:e,onclick:t,type:"button"},r)}this.dom=v("div",{onkeydown:e=>this.keydown(e),class:"cm-search"},[this.searchField,button("next",(()=>z(e)),[phrase(e,"next")]),button("prev",(()=>$(e)),[phrase(e,"previous")]),button("select",(()=>T(e)),[phrase(e,"all")]),v("label",null,[this.caseField,phrase(e,"match case")]),v("label",null,[this.reField,phrase(e,"regexp")]),...e.state.readOnly?[]:[v("br"),this.replaceField,button("replace",(()=>V(e)),[phrase(e,"replace")]),button("replaceAll",(()=>B(e)),[phrase(e,"replace all")]),v("button",{name:"close",onclick:()=>closeSearchPanel(e),"aria-label":phrase(e,"close"),type:"button"},["Ã—"])]])}commit(){let e=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,replace:this.replaceField.value});if(!e.eq(this.query)){this.query=e;this.view.dispatch({effects:P.of(e)})}}keydown(e){if(i(this.view,e,"search-panel"))e.preventDefault();else if(13==e.keyCode&&e.target==this.searchField){e.preventDefault();(e.shiftKey?$:z)(this.view)}else if(13==e.keyCode&&e.target==this.replaceField){e.preventDefault();V(this.view)}}update(e){for(let t of e.transactions)for(let e of t.effects)e.is(P)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(e){this.query=e;this.searchField.value=e.search;this.replaceField.value=e.replace;this.caseField.checked=e.caseSensitive;this.reField.checked=e.regexp}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(E).top}}function phrase(e,t){return e.state.phrase(t)}const K=30;const G=/[\s\.,:;?!]/;function announceMatch(e,{from:t,to:s}){let n=e.state.doc.lineAt(t).from,i=e.state.doc.lineAt(s).to;let a=Math.max(n,t-K),o=Math.min(i,s+K);let l=e.state.sliceDoc(a,o);if(a!=n)for(let e=0;e<K;e++)if(!G.test(l[e+1])&&G.test(l[e])){l=l.slice(e);break}if(o!=i)for(let e=l.length-1;e>l.length-K;e--)if(!G.test(l[e-1])&&G.test(l[e])){l=l.slice(0,e);break}return r.announce.of(`${e.state.phrase("current match")}. ${l} ${e.state.phrase("on line")} ${e.state.doc.lineAt(t).number}`)}const j=r.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}});const H=[Q,g.lowest(O),j];export{RegExpCursor,SearchCursor,SearchQuery,closeSearchPanel,z as findNext,$ as findPrevious,getSearchQuery,gotoLine,highlightSelectionMatches,openSearchPanel,B as replaceAll,V as replaceNext,search,N as searchKeymap,T as selectMatches,selectNextOccurrence,selectSelectionMatches,P as setSearchQuery};

